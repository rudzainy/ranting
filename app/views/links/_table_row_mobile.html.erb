<%# This is the individual link card %>
<%= turbo_frame_tag "edit_link_mobile_#{link.id}" do %>
  <% unless link.empty? %>
    <li class="flex items-center justify-between p-4">
      <div class="flex items-center flex-1 min-w-0">
        <i class="fa-<%= link.icon_style %> fa-<%= link.icon %> text-xl <%= "text-#{link.icon}-500" if link.social? %>"></i>
        <div class="ml-4 flex-1 min-w-0">
          <p class="text-sm font-medium text-gray-900 truncate dark:text-white">
            <%= link.title %>
          </p>
          <p class="text-sm text-gray-500 truncate dark:text-gray-400">
            <%= sanitize_link(link.url) %>
          </p>
        </div>
      </div>
      <div class="flex items-center space-x-3">
        <div class="flex items-center text-gray-500 dark:text-gray-400">
          <i class="fas fa-hand-pointer mr-1"></i>
          <span class="text-sm"><%= link.impressionist_count %></span>
        </div>
        <%= link_to edit_link_path(link), 
                    class: "p-2 text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-500", 
                    id: "update-link-#{link.id}", 
                    data: { turbo_frame: "modal" } do %>
          <i class="fas fa-pencil"></i>
        <% end %>
      </div>
    </li>
  <% else %>
    <li class="flex justify-end p-4">
      <%= link_to edit_link_path(link), 
                  class: "p-2 text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-500", 
                  id: "update-link-#{link.id}", 
                  data: { turbo_frame: "modal" } do %>
        <i class="fas fa-pencil"></i>
      <% end %>
    </li>
  <% end %>
<% end %>