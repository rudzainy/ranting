<% dragActions = "dragstart->drag#dragStart 
                    dragover->drag#dragOver 
                    dragenter->drag#dragEnter
                    drop->drag#drop
                    dragend->drag#dragEnd"
      hackLink = "console.log('clicked');document.getElementById('update-link-#{link.id}').click()" %>
<div class="col-12 col-sm-6 position-relative">
  <%= content_tag(:div, class: "draggable", draggable: true, data: { 
    controller: "drag",
    action: dragActions,
    resource_id: link.id,
    url: "/drag/links",
    parent: "links-container"
  }) do %>
    <div class="card border-primary">
      <div class="card-header">
        <i class="bi bi-arrows-move draggable-hook"></i>
      </div>
      <div class="card-body">
        <i class="bi bi-house-door-fill"></i>
        <h5 class="card-title"><%= link.title %></h5>
      </div>
      <%# Button for large screens %>
      <div class="d-none d-lg-flex card-footer">
        <%= link_to edit_link_path(link), class: "btn btn-primary", id: "update-link-#{link.id}" do %>
          <i class="bi bi-pencil-fill me-2"></i> Update link
        <% end %>
      </div>    
      <%# Button for small screens %>
      <div class="d-lg-none position-absolute top-0 end-0" style="z-index: 3000;">
        <a onClick=<%= hackLink %> class="btn btn-primary btn-sm">
          <i class="bi bi-pencil-fill"></i>
        </a>
      </div>
    </div>
  <% end %>
</div>